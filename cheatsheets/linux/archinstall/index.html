<head>
	<link rel="stylesheet" type="text/css" href="/css/index.css">
	<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
	<link rel="icon" href="/img/icon.png">
	<title>
		Cheatsheet - Archinstall
	</title>
</head>
<body>
	<div id="headerdiv">
	<a href="../index.html">Back</a>
</div>


	<div id="maindiv">
		<h1>Archinstall</h1>

		<p>Arch Linux is a Linux <abbr title="distribution">distro</abbr> that&rsquo;s <em>relatively</em> hard to install.
While guided installers do exist, part of an Arch user&rsquo;s pride comes from going through the process manually.
It&rsquo;s actually not difficult at all - running a list on commands in the right order with occasional decisionmaking woven in - but it is a great learning opportunity.</p>
<p>This guide is based on my personal notes.
Parts not relevant to me, such as a non-English keyboard layout it omitted because I never needed it.
The preparation section assumes you already have a Linux machine (such as Ubuntu or Mint), since it&rsquo;s generally not recommended to use Arch as your first distro.</p>
<h2 id="sources">Sources</h2>
<ul>
<li><a href="https://wiki.archlinux.org/title/Installation_guide">Arch Wiki Page</a></li>
<li><a href="https://www.youtube.com/watch?v=PQgyW10xD8s">DistroTube Video</a></li>
<li><a href="https://www.youtube.com/watch?v=XNJ4oKla8B0">EF Video About LUKS</a></li>
<li><a href="https://www.youtube.com/watch?v=FfGzL9zhPoU">Dan Henry Video About XFCE4</a></li>
</ul>
<h1 id="get-the-disk-image">Get The Disk Image</h1>
<p>Unless you&rsquo;re installing Arch in a <abbr title="Virtual Machine">VM</abbr>, you&rsquo;re going to need a USB flash drive.
This is fairly normal for all Linux distros.
Keep in mind that all data on the flash drive will be wiped.
All data on the computer you&rsquo;re installing on will likely also be wiped - so <strong>take backups</strong>.</p>
<p>The <code>.iso</code> file is a disk image. It&rsquo;s the standard way of of distributing Linux.</p>
<p>To get the Arch iso, go to:</p>
<p><a href="https://archlinux.org/download/">https://archlinux.org/download/</a></p>
<h2 id="verify-the-iso">Verify The Iso</h2>
<p>The iso file is cryptographically signed so you can make sure you didn&rsquo;t get a copy that has been tampered with.
Find the downloaded file and look at its sha256 hash, making sure it matches the one displayed on the website.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sha256sum archlinux-2022.10.01-x86_64.iso
</span></span></code></pre></div><p>(todo pgp)</p>
<h2 id="create-a-boot-drive">Create a Boot Drive</h2>
<p>Insert your flash drive and find its name using the following command (its size will show up):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>lsblk
</span></span></code></pre></div><p><strong>This is the part where you can accidentally wipe your system.</strong>
Make sure that you&rsquo;re using the correct device (for example, <code>/dev/sda</code>).</p>
<p>Once you&rsquo;re certain, write the disk image to the flash drive:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>su
</span></span><span style="display:flex;"><span>cat archlinux-2022.10.01-x86_64.iso &gt; /dev/sda
</span></span><span style="display:flex;"><span>exit
</span></span></code></pre></div><h1 id="first-steps">First Steps</h1>
<h2 id="bios">BIOS</h2>
<p>When booting your computer, open your BIOS by holding or spamming the <code>F2</code>, <code>F10</code>, <code>F12</code>, and/or <code>Delete</code> keys (depends on manufacturer).</p>
<p>Then, find a setting called <span style="text-decoration: underline;">Secure Boot</span> and turn it off.
&ldquo;Secure&rdquo;, in this case, means &ldquo;whatever Microsoft wants&rdquo;.</p>
<p>After that, you can select your flash drive as the boot device.</p>
<h2 id="efi-check">EFI Check</h2>
<p>Once you&rsquo;re in the Arch installer, make sure you&rsquo;re in EFI mode. Run the following commands:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>modprobe efivarfs
</span></span><span style="display:flex;"><span>ls /sys/firmware/efi/efivars
</span></span></code></pre></div><p>The former should have no output, the latter should list a bunch of files. If you run into errors here, installing <code>grub</code> will require a workaround. VMs can enable EFI mode in the settings.</p>
<h2 id="internet">Internet</h2>
<p>VM users and those with a wired connection can skip this.</p>
<p>Running <code>ip link</code> should show an interface.</p>
<p>If it does, run the following commands, replacing <code>device</code> and <code>SSID</code> with their proper names:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>iwctl
</span></span><span style="display:flex;"><span>device list
</span></span><span style="display:flex;"><span>station device scan
</span></span><span style="display:flex;"><span>station device get-networks
</span></span><span style="display:flex;"><span>station device connect SSID
</span></span><span style="display:flex;"><span>exit
</span></span></code></pre></div><p>If needed, also run:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>dhcpcd
</span></span></code></pre></div><p>To verify your connection, simply run <code>ping example.com</code>.</p>
<h2 id="setup-mirrors">Setup Mirrors</h2>
<p>A mirror is a server with Arch&rsquo;s package repository, except somewhere else.
Use Reflector to get the nearest mirrors.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>timedatectl set-ntp true
</span></span><span style="display:flex;"><span>sudo pacman -Syy reflector
</span></span><span style="display:flex;"><span>reflector -c Romania -a <span style="color:#ae81ff">6</span> --sort rate --save /etc/pacman.d/mirrorlist
</span></span><span style="display:flex;"><span>pacman -Syyy
</span></span></code></pre></div><h1 id="hard-drive">Hard Drive</h1>
<h2 id="partitions">Partitions</h2>
<p>Use <code>lsblk</code> and find the drive. It&rsquo;s usually <code>sda</code> or <code>nvme0n1</code>.
As a shorthand, I will run <code>drive=&quot;sda&quot;</code> so I can reference the drive name easier.</p>
<p>Use <code>gdisk</code> or an alternative to create partitions:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>gdisk /dev/$drive
</span></span></code></pre></div><p>I personally don&rsquo;t make separate home or swap partitions. Here&rsquo;s how to make a boot and a main:</p>
<ul>
<li>press <code>n</code> <code>␣</code> <code>␣</code> <code>+200M</code> <code>ef00</code> to create a 200MB boot partition</li>
<li>press <code>n</code> <code>␣</code> <code>␣</code> <code>␣</code> <code>␣</code> to use the rest of the drive as storage</li>
<li>press <code>w</code> to save changes and exit</li>
</ul>
<p>I will run <code>part=sda2</code> and <code>partefi=sda1</code> to easily refer to these partitions.
If your setup differs, use the proper partition labels.</p>
<h2 id="encryption">Encryption</h2>
<p>Encrypting your partition makes it so you have to give a password on boot, otherwise your data is inaccessible.
Technically, there is some performance drawback to this, but to me it&rsquo;s not noticeable.</p>
<p>You probably don&rsquo;t need encryption in a VM except for practice.
You might not need encryption in a desktop PC either.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cryptsetup -y -v luksFormat /dev/$part
</span></span><span style="display:flex;"><span>cryptsetup open /dev/$part cryptroot
</span></span></code></pre></div><p>Since we want to install <em>inside</em> the encrypted partition, we need to update our shorthand with <code>part=&quot;mapper/cryptroot&quot;</code>.</p>
<h2 id="filesystems">Filesystems</h2>
<p>Fairly easy.
Create the file systems for the two partitions.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkfs.ext4 /dev/$part
</span></span><span style="display:flex;"><span>mkfs.fat -F32 /dev/$partefi
</span></span></code></pre></div><h2 id="mounting">Mounting</h2>
<p>We need to have the partitions mounted for the install process.
The efi partition gets mounted inside the main one.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mount /dev/$part /mnt<span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>mkdir /mnt/boot<span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>mount /dev/$partefi /mnt/boot<span style="color:#e6db74">`</span>
</span></span></code></pre></div><h1 id="installation">Installation</h1>
<h2 id="pacstrap">Pacstrap</h2>
<p>The command <code>pacstrap</code> is used to install Arch packages into a different root directory.
You can think the Arch iso as its own Arch system that installs a second Arch into the partitions newly created.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pacstrap /mnt base linux linux-firmware base-devel vim
</span></span></code></pre></div><p>Optionally, also install <code>amd-ucode</code> or <code>intel-ucode</code>.</p>
<h2 id="fstab">Fstab</h2>
<p>Save the File System Table to a file:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>genfstab -U /mnt &gt;&gt; /mnt/etc/fstab
</span></span></code></pre></div><h2 id="chroot">Chroot</h2>
<p>Change Root into the new Arch system to operate from there:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>arch-chroot /mnt
</span></span></code></pre></div><h1 id="inside-chroot">Inside Chroot</h1>
<h2 id="swapfile">Swapfile</h2>
<p>We didn&rsquo;t create a swap partitions, but we can create a swap file.
A swap file is a section on your hard drive that&rsquo;s used when the RAM is full.
It&rsquo;s also useful for hybernation.
It&rsquo;s optional and its usefulness depends on your system.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>fallocate -l 16GB /swapfile<span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>chmod <span style="color:#ae81ff">600</span> /swapfile<span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>mkswap /swapfile<span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>swapon /swapfile<span style="color:#e6db74">`</span>
</span></span></code></pre></div><p>Use your favorite terminal-based text editor (mine is vim) to add this line:</p>
<p style="margin-bottom: -16px;"><code style="border-bottom: 0px;" title="Edit file in your text editor of choice.">/etc/fstab</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>/swapfile none swap defaults 0 0`
</span></span></code></pre></div><h2 id="time">Time</h2>
<p>Select your timezone and save it:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ln -sf /usr/share/zoneinfo/Europe/Bucharest /etc/localtime<span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>hwclock --systohc<span style="color:#e6db74">`</span>
</span></span></code></pre></div><h2 id="locale">Locale</h2>
<p>First, uncomment the following line:</p>
<p style="margin-bottom: -16px;"><code style="border-bottom: 0px;" title="Edit file in your text editor of choice.">/etc/locale.gen</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>en_US.UTF-8
</span></span></code></pre></div><p>Run this command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>locale-gen
</span></span></code></pre></div><p>And one last file to edit:</p>
<p style="margin-bottom: -16px;"><code style="border-bottom: 0px;" title="Edit file in your text editor of choice.">/etc/locale.conf</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>LANG=en_US.UTF-8`
</span></span></code></pre></div><h2 id="hostname">Hostname</h2>
<p>Time to name your computer.
This name will be visible to networks you connect to.</p>
<p style="margin-bottom: -16px;"><code style="border-bottom: 0px;" title="Edit file in your text editor of choice.">/etc/hostname</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>n-archlaptop
</span></span></code></pre></div><p>A bit more editing to do:</p>
<p style="margin-bottom: -16px;"><code style="border-bottom: 0px;" title="Edit file in your text editor of choice.">/etc/hosts</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>127.0.0.1	localhost
</span></span><span style="display:flex;"><span>::1	localhost
</span></span><span style="display:flex;"><span>127.0.1.1	n-archlaptop.localdomain	n-archlaptop
</span></span></code></pre></div><h2 id="pacman">Pacman</h2>
<p>Pacman is Arch&rsquo;s package manager.
Get some more programs we didn&rsquo;t pacstrap earlier:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pacman -S sudo grub efibootmgr networkmanager dosfstools os-prober mtools git openssh stow
</span></span></code></pre></div><h2 id="users">Users</h2>
<p>You are currently the <code>root</code> account. Set a password:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>passwd
</span></span></code></pre></div><p>I will set up one user with sudo rights named <code>n</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>useradd -m n
</span></span><span style="display:flex;"><span>passwd n
</span></span><span style="display:flex;"><span>usermod -aG wheel,audio,video,optical,storage n<span style="color:#e6db74">`</span>
</span></span></code></pre></div><p>Exclude the <code>wheel</code> group to make a non-sudo user.
Adding more users follows the same process.</p>
<h2 id="sudo">Sudo</h2>
<p>Running a program with <code>sudo</code> essentially gives administrator rights.</p>
<p>Note: while we could edit the file directly, the <code>visudo</code> utility runs some extra checks before saving the file to make sure we don&rsquo;t lock ourselves out.</p>
<p>Uncomment the following line:</p>
<p style="margin-bottom: -16px;"><code style="border-bottom: 0px;" title="Edit file in your text editor of choice.">EDITOR=vim visudo</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>%wheel ALL=(ALL) ALL
</span></span></code></pre></div><p>There is also a variant of the line that allows for running sudo without even requiring a password, but I recommend this one.</p>
<h2 id="decryption">Decryption</h2>
<p>Skip this if you skipped encryption.</p>
<p>To automatically decrypt our drive, we need to add <code>encrypt</code> to out boot hooks.
Here&rsquo;s the sample line:</p>
<p style="margin-bottom: -16px;"><code style="border-bottom: 0px;" title="Edit file in your text editor of choice.">/etc/mkinitcpio.conf</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>HOOKS=(base udev autodetect keyboard keymap modconf block encrypt filesystems keyboard fsck)
</span></span></code></pre></div><p>To apply these changes, run:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkinitcpio -p linux
</span></span></code></pre></div><h2 id="grub">Grub</h2>
<p>Install the bootloader using these commands:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>grub-install --target<span style="color:#f92672">=</span>x86_64-efi --efi-directory<span style="color:#f92672">=</span>/boot --bootloader-id<span style="color:#f92672">=</span>GRUB
</span></span><span style="display:flex;"><span>grub-mkconfig -o /boot/grub/grub.cfg
</span></span></code></pre></div><h2 id="decryption-with-grub">Decryption With Grub</h2>
<p>With Grub installed, we need to come back to decryption for a moment and add the driver&rsquo;s unique ID to the Grub config:</p>
<p style="margin-bottom: -16px;"><code style="border-bottom: 0px;" title="Edit file in your text editor of choice.">/etc/default/grub</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>GRUB_CMDLINE_LINUX=&#34;cryptdevice=UUID=f5...c7:cryptroot root=/dev/mapper/cryptroot&#34;
</span></span></code></pre></div><p>Replace the <code>f5...c7</code> part with the actual ID as given by <code>blkid</code>.</p>
<p>Pro tip: it&rsquo;s hard to copy-paste without a graphical environment. Try <code>:r !blkid</code> inside vim instead.</p>
<p>Just for good measure, update the Grub config:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>grub-mkconfig -o /boot/grub/grub.cfg
</span></span></code></pre></div><h1 id="graphical-environment">Graphical Environment</h1>
<p>Good news!
You have a functional Arch system.
Of course, in its current state it&rsquo;ll only boot into a <abbr title="non-graphical terminal">tty</abbr></p>
<p>We have options here.</p>
<p>I recommend <span style="text-decoration: underline;">xfce</span> as a lightweight desktop environment.</p>
<p>I personally use just xfce&rsquo;s terminal along with <span style="text-decoration: underline;">Qtile</span> as my window manager.</p>
<p>We can also use Wayland instead of Xorg, but I&rsquo;m personally happy with Xorg.</p>
<p>Install your software of choice using pacman:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo pacman -S xorg lightdm lightdm-gtk-greeter qtile xfce4-terminal
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo pacman -S xorg lightdm lightdm-gtk-greeter xfce4 xfce4-goodies
</span></span></code></pre></div><h2 id="systemctl">Systemctl</h2>
<p>SystemD is the init system of Arch.
Let&rsquo;s enable some daemons so we have graphics and internet:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo systemctl enable lightdm
</span></span><span style="display:flex;"><span>sudo systemctl enable NetworkManager
</span></span></code></pre></div><h2 id="virtualbox">Virtualbox</h2>
<p>If using a Virtualbox VM, these can also be useful:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo pacman -S virtualbox-guest-utils
</span></span><span style="display:flex;"><span>sudo systemctl enable vboxservice.service
</span></span></code></pre></div><h2 id="other">Other</h2>
<p>If using bluetooth headphones, try the following setup:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pacman -S bluez bluez-utils pulseaudio-bluetooth
</span></span><span style="display:flex;"><span>systemctl enable bluetooth
</span></span></code></pre></div><p>Otherwise, just install either <code>pipewire</code> or <code>pulseaudio</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pacman -S pipewire
</span></span></code></pre></div><h2 id="reboot">Reboot</h2>
<p>We&rsquo;re done!
Exit the installation environment, unplug the flash drive, and boot into the new system:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>exit
</span></span><span style="display:flex;"><span>umount -l /mnt
</span></span><span style="display:flex;"><span>reboot
</span></span></code></pre></div><h1 id="postinstall">Postinstall</h1>
<h2 id="syu">Syu</h2>
<p>You probably want to update first.
Memorize this command.
Arch being a rolling release, it should be used every few days.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo pacman -Syu
</span></span></code></pre></div><h2 id="yay">Yay</h2>
<p>Yay is the package manager for the <abbr title="Arch User Repository">AUR</abbr>.
One of the main reasons to run Arch. You probably want it.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git clone https://aur.archlinux.org/yay.git
</span></span><span style="display:flex;"><span>cd yay
</span></span><span style="display:flex;"><span>makepkg -si
</span></span><span style="display:flex;"><span>cd ..
</span></span><span style="display:flex;"><span>rm -rf yay
</span></span></code></pre></div><h2 id="python">Python</h2>
<p>Python is a great programming/scripting language. It comes with its own package manager called <code>pip</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo pacman -S python3 python-pip
</span></span></code></pre></div><h2 id="gvim">Gvim</h2>
<p>The default <code>vim</code> package doesn&rsquo;t come with Xorg clipboard support, while <code>gvim</code> does.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo pacman -R vim
</span></span><span style="display:flex;"><span>sudo pacman -S gvim
</span></span></code></pre></div><h2 id="desktop">Desktop</h2>
<p>These programs help customize the look of your desktop. The <code>dbus-next</code> package is used by Qtile for desktop notifications (like from <code>notify-send</code>).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip3 install dbus-next
</span></span><span style="display:flex;"><span>sudo pacman -S lxappearance lightdm-gtk-greeter-settings
</span></span></code></pre></div><h2 id="further">Further</h2>
<p>To get my exact environment, see:</p>
<ul>
<li><a href="https://github.com/MNandor/dotfiles">my dotfiles</a></li>
<li><a href="https://github.com/MNandor/archinstall-rice">my rice config</a></li>
<li><a href="../arch-packages">my package list</a></li>
</ul>
<hr>

		<p>Created: 2022 Sep 25 / Modified: 2022 Nov 22</p>
		
	</div>
</body>
