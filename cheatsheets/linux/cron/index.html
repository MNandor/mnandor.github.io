<head>
	<link rel="stylesheet" type="text/css" href="/css/index.css">
	<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
	<link rel="icon" href="/img/icon.png">
	<title>
		Cheatsheet - Cron
	</title>
</head>
<body>
	<div id="headerdiv">
	<a href="../index.html">Back</a>
</div>


	<div id="maindiv">
		<p style="font-size: 48px; border-bottom: 6px double var(--main-color); text-align: center; padding-bottom: 32px; margin-left: 0px; margin-right: 0px;"><b>Cron</b></p>

		<h1 id="introduction">Introduction</h1>
<ul>
<li><code>cronjob</code>, <code>crontab</code></li>
<li><a href="https://www.shellhacks.com/crontab-format-cron-job-examples-linux/">source</a> <a href="https://docs.rockylinux.org/guides/automation/cronie/">source</a></li>
<li>if a cronjob is supposed to execute, but the system is turned off, the cronjob will be skipped</li>
<li><code>%</code> signs in cronjob definitions need to be escaped as <code>\%</code></li>
<li>see logs: <code>sudo cat /var/log/cron</code></li>
</ul>
<h1 id="installation">Installation</h1>
<p>There are multiple implementations. Example using Cronie and Arch:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>sudo pacman -S cronie
</span></span><span style="display:flex;"><span>sudo systemctl enable --now cronie
</span></span></code></pre></div><h1 id="jobs">Jobs</h1>
<table>
<thead>
<tr>
<th>Front</th>
<th>Hotkey</th>
<th>Command</th>
<th>Notes</th>
<th>Perskey</th>
</tr>
</thead>
<tbody>
<tr>
<td>Edit crontabs</td>
<td></td>
<td>crontab -e</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Show crontabs</td>
<td></td>
<td>crontab -l</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Run crontab as another user</td>
<td></td>
<td>crontab -u</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h1 id="times">Times</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>.---------------- minute (0 - 59)
</span></span><span style="display:flex;"><span>| .-------------- hour (0 - 23)
</span></span><span style="display:flex;"><span>| | .------------ day of month (1 - 31)
</span></span><span style="display:flex;"><span>| | | .---------- month (1 - 12) OR jan,feb,mar ...
</span></span><span style="display:flex;"><span>| | | | .-------- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue ...
</span></span><span style="display:flex;"><span>| | | | |
</span></span><span style="display:flex;"><span>* * * * * command to be executed
</span></span></code></pre></div><ul>
<li>can give a single value <code>7</code></li>
<li>can work with multiple values <code>2,4,6</code></li>
<li>can work with a range <code>5-10</code></li>
<li>can work with modulo <code>*/5</code> = every 5 (unit of time)</li>
<li>can combine the above two <code>3-12/3</code> = 3, 6, 9, 12</li>
<li>there are many shortcuts. For example, <code>@daily</code> replaces <code>0 0 * * *</code></li>
<li>there is also <code>@reboot</code></li>
</ul>
<p>Example crontab entry:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>@reboot /home/n/dns.sh
</span></span></code></pre></div><style> table td:nth-child(2), table td:nth-child(5), table th:nth-child(2), table th:nth-child(5){ display: none; } table td:nth-child(1) { width: 150px; } table td:nth-child(3) { font-size: 1.5em; font-family: monospace; text-decoration: overline 1px green; color: green; } table td:nth-child(4), table td:nth-child(1){ width: 250px; } table td:nth-child(3){ width: 50%; } /* disable joplin's default huge padding */ th, td, tr { padding: 4px !important; } </style> 
<hr>

		<p>Created: 2023 Jan 05 / Modified: 2023 Jan 13</p>
		
	</div>
</body>
